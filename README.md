# Hannibal

一种简单的方法来使用android SharePreference。

## 在项目中使用[Hannibai](https://github.com/xuehuayous/Hannibal) 

1. 如果您的项目使用 Gradle 构建, 只需要在您的build.gradle文件添加下面两行行到 `dependencies` :

```
compile 'com.kevin:hannibai:0.2.6'
annotationProcessor 'com.kevin:hannibai-compiler:0.2.4'
```

2. 引入JSON序列化
```
compile 'com.kevin:hannibai-converter-gson:0.2.6'
```

## 简单使用


1. 在Application 中初始化

```
Hannibai.init(this);
if (debug) {
    Hannibai.setDebug(true);
}
Hannibai.setConverterFactory(GsonConverterFactory.create());
```

2. 创建一个类，使用`SharePreference`进行注解。

```
@SharePreference
public class TestPreference {
}
```

3. 加入一个成员变量

```
@SharePreference
public class TestPreference {
    public String userName;
}
```

4. ReBuild项目，自动生成如下接口

```
/**
 * Generated by Hannibai. Do not edit it!
 */
public interface TestPreferenceHandle {

  @DefString("")
  String getUserName();

  @Apply
  void setUserName(final String userName);

  @Apply
  void removeUserName();

}
```

5. 在代码中使用

```
TestPreferenceHandle testPreference = Hannibai.create(TestPreferenceHandle.class);
// 设置userName到SharePreference
testPreference.setUserName("Kevin zhou");
// 在SharePreference中获取userName
String userName = testPreference.getUserName();
// 在SharePreference中移除userName
testPreference.removeUserName();
```

## 进阶使用

未完待续。。。

# 混淆

```
-dontwarn com.kevin.hannibai.**
-keep class com.kevin.hannibai.** { *; }
-keep class * implements com.kevin.hannibai.IHandle { *; }
-keep @com.kevin.hannibai.annotation.SharePreference class * { *; }
```